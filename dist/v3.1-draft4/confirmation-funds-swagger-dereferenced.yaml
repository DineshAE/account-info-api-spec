basePath: /open-banking/v3.1/cbpii
consumes:
  - application/json; charset=utf-8
definitions:
  ISODateTime:
    description: >-
      All dates in the JSON payloads are represented in ISO 8601 date-time
      format. 

      All date-time fields in responses must include the timezone. An example is
      below:

      2017-04-05T10:43:07+00:00
    format: date-time
    type: string
  Links:
    additionalProperties: false
    description: Links relevant to the payload
    properties:
      First:
        format: uri
        type: string
      Last:
        format: uri
        type: string
      Next:
        format: uri
        type: string
      Prev:
        format: uri
        type: string
      Self:
        format: uri
        type: string
    required:
      - Self
    type: object
  Meta:
    additionalProperties: false
    description: Meta Data relevant to the payload
    properties:
      FirstAvailableDateTime:
        description: >-
          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      LastAvailableDateTime:
        description: >-
          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      TotalPages:
        format: int32
        type: integer
    title: MetaData
    type: object
  OBActiveCurrencyAndAmount_SimpleType:
    description: >-
      A number of monetary units specified in an active currency where the unit
      of currency is explicit and compliant with ISO 4217.
    pattern: '^\d{1,13}\.\d{1,5}$'
    type: string
  OBActiveOrHistoricCurrencyAndAmount:
    additionalProperties: false
    description: >-
      Amount of money to be confirmed as available funds in the debtor account.
      Contains an Amount and a Currency.
    properties:
      Amount:
        description: >-
          A number of monetary units specified in an active currency where the
          unit of currency is explicit and compliant with ISO 4217.
        pattern: '^\d{1,13}\.\d{1,5}$'
        type: string
      Currency:
        description: >-
          A code allocated to a currency by a Maintenance Agency under an
          international identification scheme, as described in the latest
          edition of the international standard ISO 4217 "Codes for the
          representation of currencies and funds".
        pattern: '^[A-Z]{3,3}$'
        type: string
    required:
      - Amount
      - Currency
    type: object
  OBCashAccountDebtor4:
    additionalProperties: false
    description: >-
      Unambiguous identification of the account of the debtor to which a
      confirmation of funds consent will be applied.
    properties:
      Identification:
        description: >-
          Identification assigned by an institution to identify an account. This
          identification is known by the account owner.
        maxLength: 256
        minLength: 1
        type: string
      Name:
        description: >-
          Name of the account, as assigned by the account servicing institution.

          Usage: The account name is the name or names of the account owner(s)
          represented at an account level. The account name is not the product
          name or the nickname of the account.
        maxLength: 70
        minLength: 1
        type: string
      SchemeName:
        description: >-
          Name of the identification scheme, in a coded form as published in an
          external list.
        example:
          - UK.OBIE.BBAN
          - UK.OBIE.IBAN
          - UK.OBIE.PAN
          - UK.OBIE.Paym
          - UK.OBIE.SortCodeAccountNumber
        maxLength: 40
        minLength: 1
        type: string
      SecondaryIdentification:
        description: >-
          This is secondary identification of the account, as assigned by the
          account servicing institution. 

          This can be used by building societies to additionally identify
          accounts with a roll number (in addition to a sort code and account
          number combination).
        maxLength: 34
        minLength: 1
        type: string
    required:
      - Identification
      - SchemeName
    type: object
  OBError1:
    additionalProperties: false
    minProperties: 1
    properties:
      ErrorCode:
        description: 'Low level textual error code, e.g., UK.OBIE.Field.Missing'
        maxLength: 128
        minLength: 1
        type: string
      Message:
        description: >-
          A description of the error that occurred. e.g., 'A mandatory field
          isn't supplied' or 'RequestedExecutionDateTime must be in future'

          OBIE doesn't standardise this field
        maxLength: 500
        minLength: 1
        type: string
      Path:
        description: >-
          Recommended but optional reference to the JSON Path of the field with
          error, e.g., Data.Initiation.InstructedAmount.Currency
        maxLength: 500
        minLength: 1
        type: string
      Url:
        description: >-
          URL to help remediate the problem, or provide more information, or to
          API Reference, or help etc
        type: string
    required:
      - ErrorCode
      - Message
    type: object
  OBErrorResponse1:
    additionalProperties: false
    description: >-
      An array of detail error codes, and messages, and URLs to documentation to
      help remediation.
    properties:
      Code:
        description: 'High level textual error code, to help categorize the errors.'
        maxLength: 40
        minLength: 1
        type: string
      Errors:
        items:
          additionalProperties: false
          minProperties: 1
          properties:
            ErrorCode:
              description: 'Low level textual error code, e.g., UK.OBIE.Field.Missing'
              maxLength: 128
              minLength: 1
              type: string
            Message:
              description: >-
                A description of the error that occurred. e.g., 'A mandatory
                field isn't supplied' or 'RequestedExecutionDateTime must be in
                future'

                OBIE doesn't standardise this field
              maxLength: 500
              minLength: 1
              type: string
            Path:
              description: >-
                Recommended but optional reference to the JSON Path of the field
                with error, e.g., Data.Initiation.InstructedAmount.Currency
              maxLength: 500
              minLength: 1
              type: string
            Url:
              description: >-
                URL to help remediate the problem, or provide more information,
                or to API Reference, or help etc
              type: string
          required:
            - ErrorCode
            - Message
          type: object
        minItems: 1
        type: array
      Id:
        description: >-
          A unique reference for the error instance, for audit purposes, in case
          of unknown/unclassified errors.
        maxLength: 40
        minLength: 1
        type: string
      Message:
        description: >-
          Brief Error message, e.g., 'There is something wrong with the request
          parameters provided'
        maxLength: 500
        minLength: 1
        type: string
    required:
      - Code
      - Errors
      - Message
    type: object
  OBExternalAccountIdentification4Code:
    description: >-
      Name of the identification scheme, in a coded form as published in an
      external list.
    example:
      - UK.OBIE.BBAN
      - UK.OBIE.IBAN
      - UK.OBIE.PAN
      - UK.OBIE.Paym
      - UK.OBIE.SortCodeAccountNumber
    maxLength: 40
    minLength: 1
    type: string
  OBExternalRequestStatus1Code:
    description: Specifies the status of consent resource in code form.
    enum:
      - Authorised
      - AwaitingAuthorisation
      - Rejected
      - Revoked
    type: string
  OBFundsConfirmation1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          ConsentId:
            description: >-
              Unique identification as assigned by the ASPSP to uniquely
              identify the funds confirmation consent resource.
            maxLength: 128
            minLength: 1
            type: string
          InstructedAmount:
            additionalProperties: false
            description: >-
              Amount of money to be confirmed as available funds in the debtor
              account. Contains an Amount and a Currency.
            properties:
              Amount:
                description: >-
                  A number of monetary units specified in an active currency
                  where the unit of currency is explicit and compliant with ISO
                  4217.
                pattern: '^\d{1,13}\.\d{1,5}$'
                type: string
              Currency:
                description: >-
                  A code allocated to a currency by a Maintenance Agency under
                  an international identification scheme, as described in the
                  latest edition of the international standard ISO 4217 "Codes
                  for the representation of currencies and funds".
                pattern: '^[A-Z]{3,3}$'
                type: string
            required:
              - Amount
              - Currency
            type: object
          Reference:
            description: >-
              Unique reference, as assigned by the CBPII, to unambiguously refer
              to the request related to the payment transaction.
            maxLength: 35
            minLength: 1
            type: string
        required:
          - ConsentId
          - InstructedAmount
          - Reference
        type: object
    required:
      - Data
    type: object
  OBFundsConfirmationConsent1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          DebtorAccount:
            additionalProperties: false
            description: >-
              Unambiguous identification of the account of the debtor to which a
              confirmation of funds consent will be applied.
            properties:
              Identification:
                description: >-
                  Identification assigned by an institution to identify an
                  account. This identification is known by the account owner.
                maxLength: 256
                minLength: 1
                type: string
              Name:
                description: >-
                  Name of the account, as assigned by the account servicing
                  institution.

                  Usage: The account name is the name or names of the account
                  owner(s) represented at an account level. The account name is
                  not the product name or the nickname of the account.
                maxLength: 70
                minLength: 1
                type: string
              SchemeName:
                description: >-
                  Name of the identification scheme, in a coded form as
                  published in an external list.
                example:
                  - UK.OBIE.BBAN
                  - UK.OBIE.IBAN
                  - UK.OBIE.PAN
                  - UK.OBIE.Paym
                  - UK.OBIE.SortCodeAccountNumber
                maxLength: 40
                minLength: 1
                type: string
              SecondaryIdentification:
                description: >-
                  This is secondary identification of the account, as assigned
                  by the account servicing institution. 

                  This can be used by building societies to additionally
                  identify accounts with a roll number (in addition to a sort
                  code and account number combination).
                maxLength: 34
                minLength: 1
                type: string
            required:
              - Identification
              - SchemeName
            type: object
          ExpirationDateTime:
            description: >-
              Specified date and time the funds confirmation authorisation will
              expire.
               If this is not populated, the authorisation will be open ended.
              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
        required:
          - DebtorAccount
        type: object
    required:
      - Data
    type: object
  OBFundsConfirmationConsentData1:
    additionalProperties: false
    properties:
      DebtorAccount:
        additionalProperties: false
        description: >-
          Unambiguous identification of the account of the debtor to which a
          confirmation of funds consent will be applied.
        properties:
          Identification:
            description: >-
              Identification assigned by an institution to identify an account.
              This identification is known by the account owner.
            maxLength: 256
            minLength: 1
            type: string
          Name:
            description: >-
              Name of the account, as assigned by the account servicing
              institution.

              Usage: The account name is the name or names of the account
              owner(s) represented at an account level. The account name is not
              the product name or the nickname of the account.
            maxLength: 70
            minLength: 1
            type: string
          SchemeName:
            description: >-
              Name of the identification scheme, in a coded form as published in
              an external list.
            example:
              - UK.OBIE.BBAN
              - UK.OBIE.IBAN
              - UK.OBIE.PAN
              - UK.OBIE.Paym
              - UK.OBIE.SortCodeAccountNumber
            maxLength: 40
            minLength: 1
            type: string
          SecondaryIdentification:
            description: >-
              This is secondary identification of the account, as assigned by
              the account servicing institution. 

              This can be used by building societies to additionally identify
              accounts with a roll number (in addition to a sort code and
              account number combination).
            maxLength: 34
            minLength: 1
            type: string
        required:
          - Identification
          - SchemeName
        type: object
      ExpirationDateTime:
        description: >-
          Specified date and time the funds confirmation authorisation will
          expire.
           If this is not populated, the authorisation will be open ended.
          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
    required:
      - DebtorAccount
    type: object
  OBFundsConfirmationConsentDataResponse1:
    additionalProperties: false
    properties:
      ConsentId:
        description: >-
          Unique identification as assigned to identify the funds confirmation
          consent resource.
        maxLength: 128
        minLength: 1
        type: string
      CreationDateTime:
        description: >-
          Date and time at which the resource was created.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      DebtorAccount:
        additionalProperties: false
        description: >-
          Unambiguous identification of the account of the debtor to which a
          confirmation of funds consent will be applied.
        properties:
          Identification:
            description: >-
              Identification assigned by an institution to identify an account.
              This identification is known by the account owner.
            maxLength: 256
            minLength: 1
            type: string
          Name:
            description: >-
              Name of the account, as assigned by the account servicing
              institution.

              Usage: The account name is the name or names of the account
              owner(s) represented at an account level. The account name is not
              the product name or the nickname of the account.
            maxLength: 70
            minLength: 1
            type: string
          SchemeName:
            description: >-
              Name of the identification scheme, in a coded form as published in
              an external list.
            example:
              - UK.OBIE.BBAN
              - UK.OBIE.IBAN
              - UK.OBIE.PAN
              - UK.OBIE.Paym
              - UK.OBIE.SortCodeAccountNumber
            maxLength: 40
            minLength: 1
            type: string
          SecondaryIdentification:
            description: >-
              This is secondary identification of the account, as assigned by
              the account servicing institution. 

              This can be used by building societies to additionally identify
              accounts with a roll number (in addition to a sort code and
              account number combination).
            maxLength: 34
            minLength: 1
            type: string
        required:
          - Identification
          - SchemeName
        type: object
      ExpirationDateTime:
        description: >-
          Specified date and time the funds confirmation authorisation will
          expire.

          If this is not populated, the authorisation will be open ended.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      Status:
        description: Specifies the status of consent resource in code form.
        enum:
          - Authorised
          - AwaitingAuthorisation
          - Rejected
          - Revoked
        type: string
      StatusUpdateDateTime:
        description: >-
          Date and time at which the resource status was updated.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
    required:
      - ConsentId
      - CreationDateTime
      - DebtorAccount
      - Status
      - StatusUpdateDateTime
    type: object
  OBFundsConfirmationConsentResponse1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          ConsentId:
            description: >-
              Unique identification as assigned to identify the funds
              confirmation consent resource.
            maxLength: 128
            minLength: 1
            type: string
          CreationDateTime:
            description: >-
              Date and time at which the resource was created.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          DebtorAccount:
            additionalProperties: false
            description: >-
              Unambiguous identification of the account of the debtor to which a
              confirmation of funds consent will be applied.
            properties:
              Identification:
                description: >-
                  Identification assigned by an institution to identify an
                  account. This identification is known by the account owner.
                maxLength: 256
                minLength: 1
                type: string
              Name:
                description: >-
                  Name of the account, as assigned by the account servicing
                  institution.

                  Usage: The account name is the name or names of the account
                  owner(s) represented at an account level. The account name is
                  not the product name or the nickname of the account.
                maxLength: 70
                minLength: 1
                type: string
              SchemeName:
                description: >-
                  Name of the identification scheme, in a coded form as
                  published in an external list.
                example:
                  - UK.OBIE.BBAN
                  - UK.OBIE.IBAN
                  - UK.OBIE.PAN
                  - UK.OBIE.Paym
                  - UK.OBIE.SortCodeAccountNumber
                maxLength: 40
                minLength: 1
                type: string
              SecondaryIdentification:
                description: >-
                  This is secondary identification of the account, as assigned
                  by the account servicing institution. 

                  This can be used by building societies to additionally
                  identify accounts with a roll number (in addition to a sort
                  code and account number combination).
                maxLength: 34
                minLength: 1
                type: string
            required:
              - Identification
              - SchemeName
            type: object
          ExpirationDateTime:
            description: >-
              Specified date and time the funds confirmation authorisation will
              expire.

              If this is not populated, the authorisation will be open ended.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          Status:
            description: Specifies the status of consent resource in code form.
            enum:
              - Authorised
              - AwaitingAuthorisation
              - Rejected
              - Revoked
            type: string
          StatusUpdateDateTime:
            description: >-
              Date and time at which the resource status was updated.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
        required:
          - ConsentId
          - CreationDateTime
          - DebtorAccount
          - Status
          - StatusUpdateDateTime
        type: object
      Links:
        additionalProperties: false
        description: Links relevant to the payload
        properties:
          First:
            format: uri
            type: string
          Last:
            format: uri
            type: string
          Next:
            format: uri
            type: string
          Prev:
            format: uri
            type: string
          Self:
            format: uri
            type: string
        required:
          - Self
        type: object
      Meta:
        additionalProperties: false
        description: Meta Data relevant to the payload
        properties:
          FirstAvailableDateTime:
            description: >-
              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          LastAvailableDateTime:
            description: >-
              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          TotalPages:
            format: int32
            type: integer
        title: MetaData
        type: object
    required:
      - Data
      - Links
      - Meta
    type: object
  OBFundsConfirmationData1:
    additionalProperties: false
    properties:
      ConsentId:
        description: >-
          Unique identification as assigned by the ASPSP to uniquely identify
          the funds confirmation consent resource.
        maxLength: 128
        minLength: 1
        type: string
      InstructedAmount:
        additionalProperties: false
        description: >-
          Amount of money to be confirmed as available funds in the debtor
          account. Contains an Amount and a Currency.
        properties:
          Amount:
            description: >-
              A number of monetary units specified in an active currency where
              the unit of currency is explicit and compliant with ISO 4217.
            pattern: '^\d{1,13}\.\d{1,5}$'
            type: string
          Currency:
            description: >-
              A code allocated to a currency by a Maintenance Agency under an
              international identification scheme, as described in the latest
              edition of the international standard ISO 4217 "Codes for the
              representation of currencies and funds".
            pattern: '^[A-Z]{3,3}$'
            type: string
        required:
          - Amount
          - Currency
        type: object
      Reference:
        description: >-
          Unique reference, as assigned by the CBPII, to unambiguously refer to
          the request related to the payment transaction.
        maxLength: 35
        minLength: 1
        type: string
    required:
      - ConsentId
      - InstructedAmount
      - Reference
    type: object
  OBFundsConfirmationDataResponse1:
    additionalProperties: false
    properties:
      ConsentId:
        description: >-
          Unique identification as assigned by the ASPSP to uniquely identify
          the funds confirmation consent resource.
        maxLength: 128
        minLength: 1
        type: string
      CreationDateTime:
        description: >-
          Date and time at which the resource was created.

          All dates in the JSON payloads are represented in ISO 8601 date-time
          format. 

          All date-time fields in responses must include the timezone. An
          example is below:

          2017-04-05T10:43:07+00:00
        format: date-time
        type: string
      FundsAvailable:
        description: Flag to indicate the result of a confirmation of funds check.
        type: boolean
      FundsConfirmationId:
        description: >-
          Unique identification as assigned by the ASPSP to uniquely identify
          the funds confirmation resource.
        maxLength: 40
        minLength: 1
        type: string
      InstructedAmount:
        additionalProperties: false
        description: >-
          Amount of money to be confirmed as available funds in the debtor
          account. Contains an Amount and a Currency.
        properties:
          Amount:
            description: >-
              A number of monetary units specified in an active currency where
              the unit of currency is explicit and compliant with ISO 4217.
            pattern: '^\d{1,13}\.\d{1,5}$'
            type: string
          Currency:
            description: >-
              A code allocated to a currency by a Maintenance Agency under an
              international identification scheme, as described in the latest
              edition of the international standard ISO 4217 "Codes for the
              representation of currencies and funds".
            pattern: '^[A-Z]{3,3}$'
            type: string
        required:
          - Amount
          - Currency
        type: object
      Reference:
        description: >-
          Unique reference, as assigned by the CBPII, to unambiguously refer to
          the request related to the payment transaction.
        maxLength: 35
        minLength: 1
        type: string
    required:
      - ConsentId
      - CreationDateTime
      - FundsAvailable
      - FundsConfirmationId
      - InstructedAmount
      - Reference
    type: object
  OBFundsConfirmationResponse1:
    additionalProperties: false
    properties:
      Data:
        additionalProperties: false
        properties:
          ConsentId:
            description: >-
              Unique identification as assigned by the ASPSP to uniquely
              identify the funds confirmation consent resource.
            maxLength: 128
            minLength: 1
            type: string
          CreationDateTime:
            description: >-
              Date and time at which the resource was created.

              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          FundsAvailable:
            description: Flag to indicate the result of a confirmation of funds check.
            type: boolean
          FundsConfirmationId:
            description: >-
              Unique identification as assigned by the ASPSP to uniquely
              identify the funds confirmation resource.
            maxLength: 40
            minLength: 1
            type: string
          InstructedAmount:
            additionalProperties: false
            description: >-
              Amount of money to be confirmed as available funds in the debtor
              account. Contains an Amount and a Currency.
            properties:
              Amount:
                description: >-
                  A number of monetary units specified in an active currency
                  where the unit of currency is explicit and compliant with ISO
                  4217.
                pattern: '^\d{1,13}\.\d{1,5}$'
                type: string
              Currency:
                description: >-
                  A code allocated to a currency by a Maintenance Agency under
                  an international identification scheme, as described in the
                  latest edition of the international standard ISO 4217 "Codes
                  for the representation of currencies and funds".
                pattern: '^[A-Z]{3,3}$'
                type: string
            required:
              - Amount
              - Currency
            type: object
          Reference:
            description: >-
              Unique reference, as assigned by the CBPII, to unambiguously refer
              to the request related to the payment transaction.
            maxLength: 35
            minLength: 1
            type: string
        required:
          - ConsentId
          - CreationDateTime
          - FundsAvailable
          - FundsConfirmationId
          - InstructedAmount
          - Reference
        type: object
      Links:
        additionalProperties: false
        description: Links relevant to the payload
        properties:
          First:
            format: uri
            type: string
          Last:
            format: uri
            type: string
          Next:
            format: uri
            type: string
          Prev:
            format: uri
            type: string
          Self:
            format: uri
            type: string
        required:
          - Self
        type: object
      Meta:
        additionalProperties: false
        description: Meta Data relevant to the payload
        properties:
          FirstAvailableDateTime:
            description: >-
              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          LastAvailableDateTime:
            description: >-
              All dates in the JSON payloads are represented in ISO 8601
              date-time format. 

              All date-time fields in responses must include the timezone. An
              example is below:

              2017-04-05T10:43:07+00:00
            format: date-time
            type: string
          TotalPages:
            format: int32
            type: integer
        title: MetaData
        type: object
    required:
      - Data
      - Links
      - Meta
    type: object
info:
  contact:
    email: ServiceDesk@openbanking.org.uk
    name: Service Desk
  description: Swagger for Confirmation of Funds API Specification
  license:
    name: open-licence
    url: 'https://www.openbanking.org.uk/open-licence'
  termsOfService: 'https://www.openbanking.org.uk/terms'
  title: Confirmation of Funds API Specification
  version: v3.1-draft4
parameters:
  AuthorizationParam:
    description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
    in: header
    name: Authorization
    required: true
    type: string
  ConsentId:
    description: ConsentId
    in: path
    name: ConsentId
    required: true
    type: string
  OBFundsConfirmation1Param:
    description: Default
    in: body
    name: OBFundsConfirmation1Param
    required: true
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned by the ASPSP to uniquely
                identify the funds confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            InstructedAmount:
              additionalProperties: false
              description: >-
                Amount of money to be confirmed as available funds in the debtor
                account. Contains an Amount and a Currency.
              properties:
                Amount:
                  description: >-
                    A number of monetary units specified in an active currency
                    where the unit of currency is explicit and compliant with
                    ISO 4217.
                  pattern: '^\d{1,13}\.\d{1,5}$'
                  type: string
                Currency:
                  description: >-
                    A code allocated to a currency by a Maintenance Agency under
                    an international identification scheme, as described in the
                    latest edition of the international standard ISO 4217 "Codes
                    for the representation of currencies and funds".
                  pattern: '^[A-Z]{3,3}$'
                  type: string
              required:
                - Amount
                - Currency
              type: object
            Reference:
              description: >-
                Unique reference, as assigned by the CBPII, to unambiguously
                refer to the request related to the payment transaction.
              maxLength: 35
              minLength: 1
              type: string
          required:
            - ConsentId
            - InstructedAmount
            - Reference
          type: object
      required:
        - Data
      type: object
  OBFundsConfirmationConsent1Param:
    description: Default
    in: body
    name: OBFundsConfirmationConsent1Param
    required: true
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            DebtorAccount:
              additionalProperties: false
              description: >-
                Unambiguous identification of the account of the debtor to which
                a confirmation of funds consent will be applied.
              properties:
                Identification:
                  description: >-
                    Identification assigned by an institution to identify an
                    account. This identification is known by the account owner.
                  maxLength: 256
                  minLength: 1
                  type: string
                Name:
                  description: >-
                    Name of the account, as assigned by the account servicing
                    institution.

                    Usage: The account name is the name or names of the account
                    owner(s) represented at an account level. The account name
                    is not the product name or the nickname of the account.
                  maxLength: 70
                  minLength: 1
                  type: string
                SchemeName:
                  description: >-
                    Name of the identification scheme, in a coded form as
                    published in an external list.
                  example:
                    - UK.OBIE.BBAN
                    - UK.OBIE.IBAN
                    - UK.OBIE.PAN
                    - UK.OBIE.Paym
                    - UK.OBIE.SortCodeAccountNumber
                  maxLength: 40
                  minLength: 1
                  type: string
                SecondaryIdentification:
                  description: >-
                    This is secondary identification of the account, as assigned
                    by the account servicing institution. 

                    This can be used by building societies to additionally
                    identify accounts with a roll number (in addition to a sort
                    code and account number combination).
                  maxLength: 34
                  minLength: 1
                  type: string
              required:
                - Identification
                - SchemeName
              type: object
            ExpirationDateTime:
              description: >-
                Specified date and time the funds confirmation authorisation
                will expire.
                 If this is not populated, the authorisation will be open ended.
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
          required:
            - DebtorAccount
          type: object
      required:
        - Data
      type: object
  x-customer-user-agent-Param:
    description: Indicates the user-agent that the PSU is using.
    in: header
    name: x-customer-user-agent
    required: false
    type: string
  x-fapi-customer-ip-address-Param:
    description: The PSU's IP address if the PSU is currently logged in with the TPP.
    in: header
    name: x-fapi-customer-ip-address
    required: false
    type: string
  x-fapi-customer-last-logged-time-Param:
    description: >-
      The time when the PSU last logged in with the TPP. 

      All dates in the HTTP headers are represented as RFC 7231 Full Dates. An
      example is below: 

      Sun, 10 Sep 2017 19:43:31 UTC
    in: header
    name: x-fapi-customer-last-logged-time
    pattern: >-
      ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
      (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4} \d{2}:\d{2}:\d{2}
      (GMT|UTC)$
    required: false
    type: string
  x-fapi-financial-id-Param:
    description: >-
      The unique id of the ASPSP to which the request is issued. The unique id
      will be issued by OB.
    in: header
    name: x-fapi-financial-id
    required: true
    type: string
  x-fapi-interaction-id-Param:
    description: An RFC4122 UID used as a correlation id.
    in: header
    name: x-fapi-interaction-id
    required: false
    type: string
paths:
  /funds-confirmation-consents:
    post:
      operationId: CreateFundsConfirmationConsents
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: Default
          in: body
          name: OBFundsConfirmationConsent1Param
          required: true
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  DebtorAccount:
                    additionalProperties: false
                    description: >-
                      Unambiguous identification of the account of the debtor to
                      which a confirmation of funds consent will be applied.
                    properties:
                      Identification:
                        description: >-
                          Identification assigned by an institution to identify
                          an account. This identification is known by the
                          account owner.
                        maxLength: 256
                        minLength: 1
                        type: string
                      Name:
                        description: >-
                          Name of the account, as assigned by the account
                          servicing institution.

                          Usage: The account name is the name or names of the
                          account owner(s) represented at an account level. The
                          account name is not the product name or the nickname
                          of the account.
                        maxLength: 70
                        minLength: 1
                        type: string
                      SchemeName:
                        description: >-
                          Name of the identification scheme, in a coded form as
                          published in an external list.
                        example:
                          - UK.OBIE.BBAN
                          - UK.OBIE.IBAN
                          - UK.OBIE.PAN
                          - UK.OBIE.Paym
                          - UK.OBIE.SortCodeAccountNumber
                        maxLength: 40
                        minLength: 1
                        type: string
                      SecondaryIdentification:
                        description: >-
                          This is secondary identification of the account, as
                          assigned by the account servicing institution. 

                          This can be used by building societies to additionally
                          identify accounts with a roll number (in addition to a
                          sort code and account number combination).
                        maxLength: 34
                        minLength: 1
                        type: string
                    required:
                      - Identification
                      - SchemeName
                    type: object
                  ExpirationDateTime:
                    description: >-
                      Specified date and time the funds confirmation
                      authorisation will expire.
                       If this is not populated, the authorisation will be open ended.
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                required:
                  - DebtorAccount
                type: object
            required:
              - Data
            type: object
        - description: Indicates the user-agent that the PSU is using.
          in: header
          name: x-customer-user-agent
          required: false
          type: string
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '201':
          description: Funds Confirmation Consent Created
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned to identify the funds
                      confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  CreationDateTime:
                    description: >-
                      Date and time at which the resource was created.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  DebtorAccount:
                    additionalProperties: false
                    description: >-
                      Unambiguous identification of the account of the debtor to
                      which a confirmation of funds consent will be applied.
                    properties:
                      Identification:
                        description: >-
                          Identification assigned by an institution to identify
                          an account. This identification is known by the
                          account owner.
                        maxLength: 256
                        minLength: 1
                        type: string
                      Name:
                        description: >-
                          Name of the account, as assigned by the account
                          servicing institution.

                          Usage: The account name is the name or names of the
                          account owner(s) represented at an account level. The
                          account name is not the product name or the nickname
                          of the account.
                        maxLength: 70
                        minLength: 1
                        type: string
                      SchemeName:
                        description: >-
                          Name of the identification scheme, in a coded form as
                          published in an external list.
                        example:
                          - UK.OBIE.BBAN
                          - UK.OBIE.IBAN
                          - UK.OBIE.PAN
                          - UK.OBIE.Paym
                          - UK.OBIE.SortCodeAccountNumber
                        maxLength: 40
                        minLength: 1
                        type: string
                      SecondaryIdentification:
                        description: >-
                          This is secondary identification of the account, as
                          assigned by the account servicing institution. 

                          This can be used by building societies to additionally
                          identify accounts with a roll number (in addition to a
                          sort code and account number combination).
                        maxLength: 34
                        minLength: 1
                        type: string
                    required:
                      - Identification
                      - SchemeName
                    type: object
                  ExpirationDateTime:
                    description: >-
                      Specified date and time the funds confirmation
                      authorisation will expire.

                      If this is not populated, the authorisation will be open
                      ended.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  Status:
                    description: Specifies the status of consent resource in code form.
                    enum:
                      - Authorised
                      - AwaitingAuthorisation
                      - Rejected
                      - Revoked
                    type: string
                  StatusUpdateDateTime:
                    description: >-
                      Date and time at which the resource status was updated.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                required:
                  - ConsentId
                  - CreationDateTime
                  - DebtorAccount
                  - Status
                  - StatusUpdateDateTime
                type: object
              Links:
                additionalProperties: false
                description: Links relevant to the payload
                properties:
                  First:
                    format: uri
                    type: string
                  Last:
                    format: uri
                    type: string
                  Next:
                    format: uri
                    type: string
                  Prev:
                    format: uri
                    type: string
                  Self:
                    format: uri
                    type: string
                required:
                  - Self
                type: object
              Meta:
                additionalProperties: false
                description: Meta Data relevant to the payload
                properties:
                  FirstAvailableDateTime:
                    description: >-
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  LastAvailableDateTime:
                    description: >-
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  TotalPages:
                    format: int32
                    type: integer
                title: MetaData
                type: object
            required:
              - Data
              - Links
              - Meta
            type: object
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not found
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '415':
          description: Unsupported Media Type
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
      security:
        - TPPOAuth2Security:
            - fundsconfirmations
      summary: Create Funds Confirmation Consent
      tags:
        - Funds Confirmations
  '/funds-confirmation-consents/{ConsentId}':
    delete:
      operationId: DeleteFundsConfirmationConsentsConsentId
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: ConsentId
          in: path
          name: ConsentId
          required: true
          type: string
        - description: Indicates the user-agent that the PSU is using.
          in: header
          name: x-customer-user-agent
          required: false
          type: string
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '204':
          description: Funds Confirmation Consent Deleted
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not found
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
      security:
        - TPPOAuth2Security:
            - fundsconfirmations
      summary: Delete Funds Confirmation Consent
      tags:
        - Funds Confirmations
    get:
      operationId: GetFundsConfirmationConsentsConsentId
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: ConsentId
          in: path
          name: ConsentId
          required: true
          type: string
        - description: Indicates the user-agent that the PSU is using.
          in: header
          name: x-customer-user-agent
          required: false
          type: string
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '200':
          description: Funds Confirmation Consent Read
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned to identify the funds
                      confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  CreationDateTime:
                    description: >-
                      Date and time at which the resource was created.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  DebtorAccount:
                    additionalProperties: false
                    description: >-
                      Unambiguous identification of the account of the debtor to
                      which a confirmation of funds consent will be applied.
                    properties:
                      Identification:
                        description: >-
                          Identification assigned by an institution to identify
                          an account. This identification is known by the
                          account owner.
                        maxLength: 256
                        minLength: 1
                        type: string
                      Name:
                        description: >-
                          Name of the account, as assigned by the account
                          servicing institution.

                          Usage: The account name is the name or names of the
                          account owner(s) represented at an account level. The
                          account name is not the product name or the nickname
                          of the account.
                        maxLength: 70
                        minLength: 1
                        type: string
                      SchemeName:
                        description: >-
                          Name of the identification scheme, in a coded form as
                          published in an external list.
                        example:
                          - UK.OBIE.BBAN
                          - UK.OBIE.IBAN
                          - UK.OBIE.PAN
                          - UK.OBIE.Paym
                          - UK.OBIE.SortCodeAccountNumber
                        maxLength: 40
                        minLength: 1
                        type: string
                      SecondaryIdentification:
                        description: >-
                          This is secondary identification of the account, as
                          assigned by the account servicing institution. 

                          This can be used by building societies to additionally
                          identify accounts with a roll number (in addition to a
                          sort code and account number combination).
                        maxLength: 34
                        minLength: 1
                        type: string
                    required:
                      - Identification
                      - SchemeName
                    type: object
                  ExpirationDateTime:
                    description: >-
                      Specified date and time the funds confirmation
                      authorisation will expire.

                      If this is not populated, the authorisation will be open
                      ended.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  Status:
                    description: Specifies the status of consent resource in code form.
                    enum:
                      - Authorised
                      - AwaitingAuthorisation
                      - Rejected
                      - Revoked
                    type: string
                  StatusUpdateDateTime:
                    description: >-
                      Date and time at which the resource status was updated.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                required:
                  - ConsentId
                  - CreationDateTime
                  - DebtorAccount
                  - Status
                  - StatusUpdateDateTime
                type: object
              Links:
                additionalProperties: false
                description: Links relevant to the payload
                properties:
                  First:
                    format: uri
                    type: string
                  Last:
                    format: uri
                    type: string
                  Next:
                    format: uri
                    type: string
                  Prev:
                    format: uri
                    type: string
                  Self:
                    format: uri
                    type: string
                required:
                  - Self
                type: object
              Meta:
                additionalProperties: false
                description: Meta Data relevant to the payload
                properties:
                  FirstAvailableDateTime:
                    description: >-
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  LastAvailableDateTime:
                    description: >-
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  TotalPages:
                    format: int32
                    type: integer
                title: MetaData
                type: object
            required:
              - Data
              - Links
              - Meta
            type: object
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not found
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
      security:
        - TPPOAuth2Security:
            - fundsconfirmations
      summary: Get Funds Confirmation Consent
      tags:
        - Funds Confirmations
  /funds-confirmations:
    post:
      operationId: CreateFundsConfirmations
      parameters:
        - description: 'An Authorisation Token as per https://tools.ietf.org/html/rfc6750'
          in: header
          name: Authorization
          required: true
          type: string
        - description: Default
          in: body
          name: OBFundsConfirmation1Param
          required: true
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned by the ASPSP to uniquely
                      identify the funds confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  InstructedAmount:
                    additionalProperties: false
                    description: >-
                      Amount of money to be confirmed as available funds in the
                      debtor account. Contains an Amount and a Currency.
                    properties:
                      Amount:
                        description: >-
                          A number of monetary units specified in an active
                          currency where the unit of currency is explicit and
                          compliant with ISO 4217.
                        pattern: '^\d{1,13}\.\d{1,5}$'
                        type: string
                      Currency:
                        description: >-
                          A code allocated to a currency by a Maintenance Agency
                          under an international identification scheme, as
                          described in the latest edition of the international
                          standard ISO 4217 "Codes for the representation of
                          currencies and funds".
                        pattern: '^[A-Z]{3,3}$'
                        type: string
                    required:
                      - Amount
                      - Currency
                    type: object
                  Reference:
                    description: >-
                      Unique reference, as assigned by the CBPII, to
                      unambiguously refer to the request related to the payment
                      transaction.
                    maxLength: 35
                    minLength: 1
                    type: string
                required:
                  - ConsentId
                  - InstructedAmount
                  - Reference
                type: object
            required:
              - Data
            type: object
        - description: Indicates the user-agent that the PSU is using.
          in: header
          name: x-customer-user-agent
          required: false
          type: string
        - description: The PSU's IP address if the PSU is currently logged in with the TPP.
          in: header
          name: x-fapi-customer-ip-address
          required: false
          type: string
        - description: >-
            The time when the PSU last logged in with the TPP. 

            All dates in the HTTP headers are represented as RFC 7231 Full
            Dates. An example is below: 

            Sun, 10 Sep 2017 19:43:31 UTC
          in: header
          name: x-fapi-customer-last-logged-time
          pattern: >-
            ^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \d{2}
            (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \d{4}
            \d{2}:\d{2}:\d{2} (GMT|UTC)$
          required: false
          type: string
        - description: >-
            The unique id of the ASPSP to which the request is issued. The
            unique id will be issued by OB.
          in: header
          name: x-fapi-financial-id
          required: true
          type: string
        - description: An RFC4122 UID used as a correlation id.
          in: header
          name: x-fapi-interaction-id
          required: false
          type: string
      responses:
        '201':
          description: Funds Confirmation Created
          headers:
            x-fapi-interaction-id:
              description: An RFC4122 UID used as a correlation id.
              type: string
          schema:
            additionalProperties: false
            properties:
              Data:
                additionalProperties: false
                properties:
                  ConsentId:
                    description: >-
                      Unique identification as assigned by the ASPSP to uniquely
                      identify the funds confirmation consent resource.
                    maxLength: 128
                    minLength: 1
                    type: string
                  CreationDateTime:
                    description: >-
                      Date and time at which the resource was created.

                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  FundsAvailable:
                    description: >-
                      Flag to indicate the result of a confirmation of funds
                      check.
                    type: boolean
                  FundsConfirmationId:
                    description: >-
                      Unique identification as assigned by the ASPSP to uniquely
                      identify the funds confirmation resource.
                    maxLength: 40
                    minLength: 1
                    type: string
                  InstructedAmount:
                    additionalProperties: false
                    description: >-
                      Amount of money to be confirmed as available funds in the
                      debtor account. Contains an Amount and a Currency.
                    properties:
                      Amount:
                        description: >-
                          A number of monetary units specified in an active
                          currency where the unit of currency is explicit and
                          compliant with ISO 4217.
                        pattern: '^\d{1,13}\.\d{1,5}$'
                        type: string
                      Currency:
                        description: >-
                          A code allocated to a currency by a Maintenance Agency
                          under an international identification scheme, as
                          described in the latest edition of the international
                          standard ISO 4217 "Codes for the representation of
                          currencies and funds".
                        pattern: '^[A-Z]{3,3}$'
                        type: string
                    required:
                      - Amount
                      - Currency
                    type: object
                  Reference:
                    description: >-
                      Unique reference, as assigned by the CBPII, to
                      unambiguously refer to the request related to the payment
                      transaction.
                    maxLength: 35
                    minLength: 1
                    type: string
                required:
                  - ConsentId
                  - CreationDateTime
                  - FundsAvailable
                  - FundsConfirmationId
                  - InstructedAmount
                  - Reference
                type: object
              Links:
                additionalProperties: false
                description: Links relevant to the payload
                properties:
                  First:
                    format: uri
                    type: string
                  Last:
                    format: uri
                    type: string
                  Next:
                    format: uri
                    type: string
                  Prev:
                    format: uri
                    type: string
                  Self:
                    format: uri
                    type: string
                required:
                  - Self
                type: object
              Meta:
                additionalProperties: false
                description: Meta Data relevant to the payload
                properties:
                  FirstAvailableDateTime:
                    description: >-
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  LastAvailableDateTime:
                    description: >-
                      All dates in the JSON payloads are represented in ISO 8601
                      date-time format. 

                      All date-time fields in responses must include the
                      timezone. An example is below:

                      2017-04-05T10:43:07+00:00
                    format: date-time
                    type: string
                  TotalPages:
                    format: int32
                    type: integer
                title: MetaData
                type: object
            required:
              - Data
              - Links
              - Meta
            type: object
        '400':
          description: Bad request
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Not found
        '405':
          description: Method Not Allowed
        '406':
          description: Not Acceptable
        '415':
          description: Unsupported Media Type
        '429':
          description: Too Many Requests
          headers:
            Retry-After:
              description: Number in seconds to wait
              type: integer
        '500':
          description: Internal Server Error
          schema:
            additionalProperties: false
            description: >-
              An array of detail error codes, and messages, and URLs to
              documentation to help remediation.
            properties:
              Code:
                description: 'High level textual error code, to help categorize the errors.'
                maxLength: 40
                minLength: 1
                type: string
              Errors:
                items:
                  additionalProperties: false
                  minProperties: 1
                  properties:
                    ErrorCode:
                      description: >-
                        Low level textual error code, e.g.,
                        UK.OBIE.Field.Missing
                      maxLength: 128
                      minLength: 1
                      type: string
                    Message:
                      description: >-
                        A description of the error that occurred. e.g., 'A
                        mandatory field isn't supplied' or
                        'RequestedExecutionDateTime must be in future'

                        OBIE doesn't standardise this field
                      maxLength: 500
                      minLength: 1
                      type: string
                    Path:
                      description: >-
                        Recommended but optional reference to the JSON Path of
                        the field with error, e.g.,
                        Data.Initiation.InstructedAmount.Currency
                      maxLength: 500
                      minLength: 1
                      type: string
                    Url:
                      description: >-
                        URL to help remediate the problem, or provide more
                        information, or to API Reference, or help etc
                      type: string
                  required:
                    - ErrorCode
                    - Message
                  type: object
                minItems: 1
                type: array
              Id:
                description: >-
                  A unique reference for the error instance, for audit purposes,
                  in case of unknown/unclassified errors.
                maxLength: 40
                minLength: 1
                type: string
              Message:
                description: >-
                  Brief Error message, e.g., 'There is something wrong with the
                  request parameters provided'
                maxLength: 500
                minLength: 1
                type: string
            required:
              - Code
              - Errors
              - Message
            type: object
      security:
        - PSUOAuth2Security:
            - fundsconfirmations
      summary: Create Funds Confirmation
      tags:
        - Funds Confirmations
produces:
  - application/json; charset=utf-8
responses:
  200FundsConfirmationConsentsConsentIdRead:
    description: Funds Confirmation Consent Read
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned to identify the funds
                confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            CreationDateTime:
              description: >-
                Date and time at which the resource was created.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            DebtorAccount:
              additionalProperties: false
              description: >-
                Unambiguous identification of the account of the debtor to which
                a confirmation of funds consent will be applied.
              properties:
                Identification:
                  description: >-
                    Identification assigned by an institution to identify an
                    account. This identification is known by the account owner.
                  maxLength: 256
                  minLength: 1
                  type: string
                Name:
                  description: >-
                    Name of the account, as assigned by the account servicing
                    institution.

                    Usage: The account name is the name or names of the account
                    owner(s) represented at an account level. The account name
                    is not the product name or the nickname of the account.
                  maxLength: 70
                  minLength: 1
                  type: string
                SchemeName:
                  description: >-
                    Name of the identification scheme, in a coded form as
                    published in an external list.
                  example:
                    - UK.OBIE.BBAN
                    - UK.OBIE.IBAN
                    - UK.OBIE.PAN
                    - UK.OBIE.Paym
                    - UK.OBIE.SortCodeAccountNumber
                  maxLength: 40
                  minLength: 1
                  type: string
                SecondaryIdentification:
                  description: >-
                    This is secondary identification of the account, as assigned
                    by the account servicing institution. 

                    This can be used by building societies to additionally
                    identify accounts with a roll number (in addition to a sort
                    code and account number combination).
                  maxLength: 34
                  minLength: 1
                  type: string
              required:
                - Identification
                - SchemeName
              type: object
            ExpirationDateTime:
              description: >-
                Specified date and time the funds confirmation authorisation
                will expire.

                If this is not populated, the authorisation will be open ended.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            Status:
              description: Specifies the status of consent resource in code form.
              enum:
                - Authorised
                - AwaitingAuthorisation
                - Rejected
                - Revoked
              type: string
            StatusUpdateDateTime:
              description: >-
                Date and time at which the resource status was updated.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
          required:
            - ConsentId
            - CreationDateTime
            - DebtorAccount
            - Status
            - StatusUpdateDateTime
          type: object
        Links:
          additionalProperties: false
          description: Links relevant to the payload
          properties:
            First:
              format: uri
              type: string
            Last:
              format: uri
              type: string
            Next:
              format: uri
              type: string
            Prev:
              format: uri
              type: string
            Self:
              format: uri
              type: string
          required:
            - Self
          type: object
        Meta:
          additionalProperties: false
          description: Meta Data relevant to the payload
          properties:
            FirstAvailableDateTime:
              description: >-
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            LastAvailableDateTime:
              description: >-
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            TotalPages:
              format: int32
              type: integer
          title: MetaData
          type: object
      required:
        - Data
        - Links
        - Meta
      type: object
  201FundsConfirmationConsentsCreated:
    description: Funds Confirmation Consent Created
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned to identify the funds
                confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            CreationDateTime:
              description: >-
                Date and time at which the resource was created.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            DebtorAccount:
              additionalProperties: false
              description: >-
                Unambiguous identification of the account of the debtor to which
                a confirmation of funds consent will be applied.
              properties:
                Identification:
                  description: >-
                    Identification assigned by an institution to identify an
                    account. This identification is known by the account owner.
                  maxLength: 256
                  minLength: 1
                  type: string
                Name:
                  description: >-
                    Name of the account, as assigned by the account servicing
                    institution.

                    Usage: The account name is the name or names of the account
                    owner(s) represented at an account level. The account name
                    is not the product name or the nickname of the account.
                  maxLength: 70
                  minLength: 1
                  type: string
                SchemeName:
                  description: >-
                    Name of the identification scheme, in a coded form as
                    published in an external list.
                  example:
                    - UK.OBIE.BBAN
                    - UK.OBIE.IBAN
                    - UK.OBIE.PAN
                    - UK.OBIE.Paym
                    - UK.OBIE.SortCodeAccountNumber
                  maxLength: 40
                  minLength: 1
                  type: string
                SecondaryIdentification:
                  description: >-
                    This is secondary identification of the account, as assigned
                    by the account servicing institution. 

                    This can be used by building societies to additionally
                    identify accounts with a roll number (in addition to a sort
                    code and account number combination).
                  maxLength: 34
                  minLength: 1
                  type: string
              required:
                - Identification
                - SchemeName
              type: object
            ExpirationDateTime:
              description: >-
                Specified date and time the funds confirmation authorisation
                will expire.

                If this is not populated, the authorisation will be open ended.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            Status:
              description: Specifies the status of consent resource in code form.
              enum:
                - Authorised
                - AwaitingAuthorisation
                - Rejected
                - Revoked
              type: string
            StatusUpdateDateTime:
              description: >-
                Date and time at which the resource status was updated.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
          required:
            - ConsentId
            - CreationDateTime
            - DebtorAccount
            - Status
            - StatusUpdateDateTime
          type: object
        Links:
          additionalProperties: false
          description: Links relevant to the payload
          properties:
            First:
              format: uri
              type: string
            Last:
              format: uri
              type: string
            Next:
              format: uri
              type: string
            Prev:
              format: uri
              type: string
            Self:
              format: uri
              type: string
          required:
            - Self
          type: object
        Meta:
          additionalProperties: false
          description: Meta Data relevant to the payload
          properties:
            FirstAvailableDateTime:
              description: >-
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            LastAvailableDateTime:
              description: >-
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            TotalPages:
              format: int32
              type: integer
          title: MetaData
          type: object
      required:
        - Data
        - Links
        - Meta
      type: object
  201FundsConfirmationsCreated:
    description: Funds Confirmation Created
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
    schema:
      additionalProperties: false
      properties:
        Data:
          additionalProperties: false
          properties:
            ConsentId:
              description: >-
                Unique identification as assigned by the ASPSP to uniquely
                identify the funds confirmation consent resource.
              maxLength: 128
              minLength: 1
              type: string
            CreationDateTime:
              description: >-
                Date and time at which the resource was created.

                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            FundsAvailable:
              description: Flag to indicate the result of a confirmation of funds check.
              type: boolean
            FundsConfirmationId:
              description: >-
                Unique identification as assigned by the ASPSP to uniquely
                identify the funds confirmation resource.
              maxLength: 40
              minLength: 1
              type: string
            InstructedAmount:
              additionalProperties: false
              description: >-
                Amount of money to be confirmed as available funds in the debtor
                account. Contains an Amount and a Currency.
              properties:
                Amount:
                  description: >-
                    A number of monetary units specified in an active currency
                    where the unit of currency is explicit and compliant with
                    ISO 4217.
                  pattern: '^\d{1,13}\.\d{1,5}$'
                  type: string
                Currency:
                  description: >-
                    A code allocated to a currency by a Maintenance Agency under
                    an international identification scheme, as described in the
                    latest edition of the international standard ISO 4217 "Codes
                    for the representation of currencies and funds".
                  pattern: '^[A-Z]{3,3}$'
                  type: string
              required:
                - Amount
                - Currency
              type: object
            Reference:
              description: >-
                Unique reference, as assigned by the CBPII, to unambiguously
                refer to the request related to the payment transaction.
              maxLength: 35
              minLength: 1
              type: string
          required:
            - ConsentId
            - CreationDateTime
            - FundsAvailable
            - FundsConfirmationId
            - InstructedAmount
            - Reference
          type: object
        Links:
          additionalProperties: false
          description: Links relevant to the payload
          properties:
            First:
              format: uri
              type: string
            Last:
              format: uri
              type: string
            Next:
              format: uri
              type: string
            Prev:
              format: uri
              type: string
            Self:
              format: uri
              type: string
          required:
            - Self
          type: object
        Meta:
          additionalProperties: false
          description: Meta Data relevant to the payload
          properties:
            FirstAvailableDateTime:
              description: >-
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            LastAvailableDateTime:
              description: >-
                All dates in the JSON payloads are represented in ISO 8601
                date-time format. 

                All date-time fields in responses must include the timezone. An
                example is below:

                2017-04-05T10:43:07+00:00
              format: date-time
              type: string
            TotalPages:
              format: int32
              type: integer
          title: MetaData
          type: object
      required:
        - Data
        - Links
        - Meta
      type: object
  204FundsConfirmationConsentsConsentIdDeleted:
    description: Funds Confirmation Consent Deleted
    headers:
      x-fapi-interaction-id:
        description: An RFC4122 UID used as a correlation id.
        type: string
  400ErrorResponse:
    description: Bad request
    schema:
      additionalProperties: false
      description: >-
        An array of detail error codes, and messages, and URLs to documentation
        to help remediation.
      properties:
        Code:
          description: 'High level textual error code, to help categorize the errors.'
          maxLength: 40
          minLength: 1
          type: string
        Errors:
          items:
            additionalProperties: false
            minProperties: 1
            properties:
              ErrorCode:
                description: 'Low level textual error code, e.g., UK.OBIE.Field.Missing'
                maxLength: 128
                minLength: 1
                type: string
              Message:
                description: >-
                  A description of the error that occurred. e.g., 'A mandatory
                  field isn't supplied' or 'RequestedExecutionDateTime must be
                  in future'

                  OBIE doesn't standardise this field
                maxLength: 500
                minLength: 1
                type: string
              Path:
                description: >-
                  Recommended but optional reference to the JSON Path of the
                  field with error, e.g.,
                  Data.Initiation.InstructedAmount.Currency
                maxLength: 500
                minLength: 1
                type: string
              Url:
                description: >-
                  URL to help remediate the problem, or provide more
                  information, or to API Reference, or help etc
                type: string
            required:
              - ErrorCode
              - Message
            type: object
          minItems: 1
          type: array
        Id:
          description: >-
            A unique reference for the error instance, for audit purposes, in
            case of unknown/unclassified errors.
          maxLength: 40
          minLength: 1
          type: string
        Message:
          description: >-
            Brief Error message, e.g., 'There is something wrong with the
            request parameters provided'
          maxLength: 500
          minLength: 1
          type: string
      required:
        - Code
        - Errors
        - Message
      type: object
  401ErrorResponse:
    description: Unauthorized
  403ErrorResponse:
    description: Forbidden
  404ErrorResponse:
    description: Not found
  405ErrorResponse:
    description: Method Not Allowed
  406ErrorResponse:
    description: Not Acceptable
  415ErrorResponse:
    description: Unsupported Media Type
  429ErrorResponse:
    description: Too Many Requests
    headers:
      Retry-After:
        description: Number in seconds to wait
        type: integer
  500ErrorResponse:
    description: Internal Server Error
    schema:
      additionalProperties: false
      description: >-
        An array of detail error codes, and messages, and URLs to documentation
        to help remediation.
      properties:
        Code:
          description: 'High level textual error code, to help categorize the errors.'
          maxLength: 40
          minLength: 1
          type: string
        Errors:
          items:
            additionalProperties: false
            minProperties: 1
            properties:
              ErrorCode:
                description: 'Low level textual error code, e.g., UK.OBIE.Field.Missing'
                maxLength: 128
                minLength: 1
                type: string
              Message:
                description: >-
                  A description of the error that occurred. e.g., 'A mandatory
                  field isn't supplied' or 'RequestedExecutionDateTime must be
                  in future'

                  OBIE doesn't standardise this field
                maxLength: 500
                minLength: 1
                type: string
              Path:
                description: >-
                  Recommended but optional reference to the JSON Path of the
                  field with error, e.g.,
                  Data.Initiation.InstructedAmount.Currency
                maxLength: 500
                minLength: 1
                type: string
              Url:
                description: >-
                  URL to help remediate the problem, or provide more
                  information, or to API Reference, or help etc
                type: string
            required:
              - ErrorCode
              - Message
            type: object
          minItems: 1
          type: array
        Id:
          description: >-
            A unique reference for the error instance, for audit purposes, in
            case of unknown/unclassified errors.
          maxLength: 40
          minLength: 1
          type: string
        Message:
          description: >-
            Brief Error message, e.g., 'There is something wrong with the
            request parameters provided'
          maxLength: 500
          minLength: 1
          type: string
      required:
        - Code
        - Errors
        - Message
      type: object
schemes:
  - https
securityDefinitions:
  PSUOAuth2Security:
    authorizationUrl: 'https://authserver.example/authorization'
    description: >-
      OAuth flow, it is required when the PSU needs to perform SCA with the
      ASPSP when a TPP wants to access an ASPSP resource owned by the PSU
    flow: accessCode
    scopes:
      fundsconfirmations: Funds confirmation entitlement
    tokenUrl: 'https://authserver.example/token'
    type: oauth2
  TPPOAuth2Security:
    description: TPP client credential authorisation flow with the ASPSP
    flow: application
    scopes:
      fundsconfirmations: Funds confirmation entitlement
    tokenUrl: 'https://authserver.example/token'
    type: oauth2
swagger: '2.0'
